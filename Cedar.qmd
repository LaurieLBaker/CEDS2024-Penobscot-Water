---
title: "Sample Information"
author: "Cedar Callahan"
format:
  html:
    toc: true
params:
  Collectors: "placeholder"
---

```{r load-packages-and-data, echo = FALSE, message = FALSE}
library(tidyverse)
library(data.table)
library(gt)
library(purrr)
library(quarto)
library(here)
library(knitr)
library(rlang)
library(kableExtra)
library(tibble)
library(rmarkdown)

data2018 <- readRDS("data/PINCommEngData (2).RData")

data <- filter(data2018, Collectors == params$Collectors)
```

```{r}
collectors <- data2018 %>%
  distinct(Collectors) %>%
  pull()
```

```{r}
# Collector <- map_chr(collectors, \(current_collectors){
#   knit_child(
#     input = "field_child_doc.qmd",
#     quiet = TRUE
#     )
# })
# 
# cat(Collector, sep = "\n")
```

```{r}
#| output: asis

collectors <- unique(data2018$Collectors)

files_out <- tolower(collectors) %>% 
  str_replace_all(" ", "_") %>% 
  paste0(., "_report.html")


map2(
  collectors, 
  files_out,
  knit(
    input = "test_field_child_doc.qmd" 
    
  )
)
```


