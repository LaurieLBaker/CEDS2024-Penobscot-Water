---
title: Water Quality Lab Report Template
format: html
toc: true
editor: visual
execute:
  echo: false
---

```{r install.packages, include=FALSE}
library(tidyverse)
library(quarto)
library(dplyr)
library(devtools)
library(readr)
library(gt) #for tables
library(stringr)
library(htmltools)
```

```{r load_data}
data2018 <- readRDS("data/PINCommEngData (2).RData")
```

## Lab Report Header {.smaller}

### Run Date: `r unique(data2018$RunDate)`

#### Run Code: `r unique(data2018$RunCode)`

#### Site Code: `r unique(data2018$SiteCode)`

## Collection Date {.smaller}

## Run {.smaller}

## Site {.smaller}

------------------------------------------------------------------------------------------------------

### Collector: JRP

Run Date: **2018-09-19** Run: **Passadumkeag**

```{r}
c <- data2018 %>%
  filter(Collector == "JRP", RunCode == "Passadumkeag", RunDate == "2018-09-19")

data2018 %>%
  mutate(
    Constituents = case_when(
      Constituents == "Msmt" ~ Const,
      TRUE ~ Constituents
    ),
    ResultValue = coalesce(Result, ResultValue)) %>%
  filter(Collector == "JRP", RunCode == "Passadumkeag", RunDate == "2018-09-19") %>%
  select(SiteCode, SiteVisitStartTime, Constituents, ResultValue, QCType, IncubationLength, LabAnalysisDatetime, SampleDatetime) %>%
  gt()
```
